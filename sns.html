<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>いろはのいろ　-奥田いろは応援サイト-</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="ここにサイト説明を入れます">
<meta name="keywords" content="キーワード１,キーワード２,キーワード３,キーワード４,キーワード５">
<link rel="stylesheet" href="css/style.css">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>

<body>

<div id="container">

<header>
<h1 id="logo"><a href="index.html">いろはのいろ</a></h1>
<h2>-奥田いろは応援サイト-</h2>

<nav id="menubar">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="profile.html">Profile</a></li>
<li><a href="book.html">Book</a></li>
<li><a href="movie.html">Movie</a></li>
<li><a href="sns.html">Sns</a></li>
</ul>
</nav>
</header>

<div id="contents">

<section>

<h2>SNS</h2>

<div class="list">
    <h3 id="">note</h3>
<iframe class="note-embed" src="https://note.com/embed/notes/ne611f2ae660d" style="border: 0; display: block; max-width: 99%; width: 494px; padding: 0px; margin: 10px 0px; position: static; visibility: visible;" height="400"></iframe><script async src="https://note.com/scripts/embed.js" charset="utf-8"></script>
</div>
<div class="popup">
    <div class="popup-banner">
        <span class="popup-close">×</span>
        <a href="https://www.nogizaka46.com/s/n46/live?ct=HANDSHAKE" target="_blank">
           <img src="images/いろは広告.jpg" alt="">
           
        </a>
    </div>
</div>
<script>
//ポップアップ広告を取得
const popup = document.querySelector('.popup')
//ポップアップ広告の閉じるボタンを取得
const popupClose = document.querySelector('.popup-close')
//body要素を取得
const body = document.body
//表示位置を指定（下記はbody要素の真中辺り）
const position = body.clientHeight / 2

//スクロールされた場合の処理
window.addEventListener('scroll', ()=>{
    //スクロール位置を取得
    let scrollY = window.scrollY
    //ポップアップ広告の表示フラグを取得
    let popupFlag = sessionStorage.getItem('open')
    
    //スクロール量が表示位置以上であれば
    if(!popupFlag && position < scrollY){
        //ポップアップ広告表示
        popup.classList.add('open')
        //ポップアップ広告の表示フラグを表示済みに設定
        sessionStorage.setItem('open', true)
    }
    
    //popupがopenのclassを持っていれば
    if(popup.classList.contains('open')){
        //bodyのスクロールバーを非表示
        body.style.overflowY = 'hidden'
    } else {
        //bodyのスクロールバーを表示
        body.style.overflowY = 'auto'
    }
});

//ポップアップ広告の閉じるボタンがクリックされた場合の処理
popupClose.addEventListener('click', ()=>{
    //openのclassを削除
    popup.classList.remove('open')
    //bodyのスクロールバーを表示
    body.style.overflowY = 'auto'
})

</script>
<div class="list">
    <h3 id="">X(旧twitter) </h3>
    <a class="twitter-timeline" href="https://twitter.com/yhirohanoiro?ref_src=twsrc%5Etfw">Tweets by yhirohanoiro</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>



</section>

</div>
<!--/contents-->
<div id="slide">
    <div id="slide-in">
        <div id="open-btn"><img src="images/open-btn.gif" width="20" height="20" /></div>
        <h3 style="font-size: 10px;">いろはちゃんとお話してみませんか?</h3>
        <div id="slide-contents">
           <a href="https://www.nogizaka46.com/s/n46/live?ct=HANDSHAKE" target="_blank">
           <img src="images/いろは広告.jpg">
           
        </a>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
$(function() {
    var slide = $('#slide');
    var contents = $('#slide-contents');
    //開くボタン
    var openBtn = $('#open-btn img');
    var btnOpenFlag = false;
    var openFlag = false;
    var panelSwitch = function() {
    var screenWidth = window.innerWidth;
    
    // 開くか閉じるかのフラグに基づいて処理を行う
    if (openFlag == true) {
        if (screenWidth <= 580) {
            slide.stop().animate({'width' : '250px', 'height' : '30px'}, 500);
        } else {
            slide.stop().animate({'width' : '250px', 'height' : '30px'}, 500);
        }
        openBtn.show(); // 開くボタンにする
    } else if (openFlag == false) {
        if (screenWidth <= 580) {
            slide.stop().animate({'width' : '350px', 'height' : '200px'}, 500);
        } else {
            slide.stop().animate({'width' : '500px', 'height' : '300px'}, 500);
        }
        openBtn.hide(); // 閉じるボタンにする
    }
};
    //開くボタンクリックしたら
    $('#open-btn').click(function(){
        panelSwitch();
        openFlag = !openFlag;
        btnOpenFlag = true;
    });
    //画面下位置を取得
    // var bottomPos = $(document).height() - $(window).height() - 500;
    // $(window).scroll(function () {
    //     if (!btnOpenFlag) {
    //         if ($(this).scrollTop() >= bottomPos) {
    //             if (openFlag == false) {
    //                 panelSwitch();
    //                 openFlag = true;
    //             }
    //         } else {
    //             if (openFlag) {
    //                 panelSwitch();
    //                 openFlag = false;
    //             }
    //         }
    //     }
    // });
});
</script>
<footer>
<small>Copyright&copy; <a href="index.html">SAMPLE SITE</a> All Rights Reserved.</small>
<span class="pr">《<a href="https://template-party.com/" target="_blank">Web Design:Template-Party</a>》</span>
</footer>

</div>
<!--/container-->

</body>
</html>
